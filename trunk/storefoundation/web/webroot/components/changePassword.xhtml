<ui:composition
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:t="http://myfaces.apache.org/tomahawk"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:yf="http://yfaces.codehaus.org/taglib"
	>
	<yf:component
		modelspec="ystorefoundationpackage.yfaces.component.user.ChangePasswordComponent"
		model="ystorefoundationpackage.yfaces.component.user.DefaultChangePasswordComponent" 
		var="changePasswordCmpVar"
		
		passToModel="user, checkOldPassword, checkNewPasswordRepeat"
		>      

		<t:div styleClass="registrationCmp">
			<h:form id="form" enctype="multipart/form-data" acceptcharset="utf-8">
				<h:panelGrid columns="2" rendered="#{changePasswordCmpVar.checkOldPassword}">
					<h:outputText value="Old password"/>
					<h:inputSecret id="oldPw" required="true" value="#{changePasswordCmpVar.oldPassword}" />
				</h:panelGrid>
				
				<h:panelGrid columns="2">
					<h:outputText value="#{msg['frames.loginFrame.password']}"/>
					<h:inputSecret id="newPW1" required="true" value="#{changePasswordCmpVar.newPassword1}" />
					<h:outputText value="#{msg['frames.loginFrame.passwordRepeat']}" rendered="#{changePasswordCmpVar.checkNewPasswordRepeat}"/>
					<h:inputSecret id="newPW2" required="true" value="#{changePasswordCmpVar.newPassword2}" rendered="#{changePasswordCmpVar.checkNewPasswordRepeat}" />
				</h:panelGrid>
				<h:panelGrid columns="2">
					<h:commandButton 
						id="changePasswordCommand"
						value="#{msg['frames.loginFrame.change']}"
						action="#{changePasswordCmpVar.changePasswordEvent.action}"
						actionListener="#{changePasswordCmpVar.changePasswordEvent.actionListener}" 
						styleClass="submitSmall"/>
					<h:commandButton 
						id="cancelChangePasswordCommand"
						value="#{msg['global.action.cancel']}"
						action="#{changePasswordCmpVar.cancelChangePasswordEvent.action}"
						actionListener="#{changePasswordCmpVar.cancelChangePasswordEvent.actionListener}" 
						styleClass="submitSmall" immediate="true"/>
				</h:panelGrid>
			</h:form>
		</t:div>
	</yf:component>
</ui:composition>
			
